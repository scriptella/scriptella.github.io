<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Thu Sep 12 18:56:18 PDT 2019 -->
<title>scriptella.driver.xpath (Scriptella API Documentation)</title>
<meta name="date" content="2019-09-12">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="scriptella.driver.xpath (Scriptella API Documentation)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../scriptella/driver/xls/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../scriptella/execution/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?scriptella/driver/xpath/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;scriptella.driver.xpath</h1>
<div class="docSummary">
<div class="block">XPath Driver for Scriptella.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../scriptella/driver/xpath/Driver.html" title="class in scriptella.driver.xpath">Driver</a></td>
<td class="colLast">
<div class="block">Represents a driver for querying XML files with XPath expressions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../scriptella/driver/xpath/NodeVariable.html" title="class in scriptella.driver.xpath">NodeVariable</a></td>
<td class="colLast">
<div class="block">A special <code>node</code> variable for sub-queries and scripts that wraps
 the node selected by an XPath query, exposing useful methods.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../scriptella/driver/xpath/XPathConnection.html" title="class in scriptella.driver.xpath">XPathConnection</a></td>
<td class="colLast">
<div class="block">Represents a connection to an XML file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../scriptella/driver/xpath/XPathQueryExecutor.html" title="class in scriptella.driver.xpath">XPathQueryExecutor</a></td>
<td class="colLast">
<div class="block">Executor for XPath queries.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Exception Summary table, listing exceptions, and an explanation">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../scriptella/driver/xpath/XPathProviderException.html" title="class in scriptella.driver.xpath">XPathProviderException</a></td>
<td class="colLast">
<div class="block">Thrown to indicate a problem with XML file querying.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package scriptella.driver.xpath Description">Package scriptella.driver.xpath Description</h2>
<div class="block"><h1>XPath Driver for Scriptella.</h1>
Allows querying an XML file based on XPath expressions.
<p>
<h2>General information</h2>
<table>
    <tr>
        <td><b>Driver class:</b></td><td><code>scriptella.driver.xpath.Driver</code></td>
    </tr>
    <tr>
        <td><b>URL:</b></td><td><code>XML file URL. URIs are resolved relative to a script file directory.</code></td>
    </tr>
    <tr>
        <td><b>Runtime dependencies:</b></td><td><code>None</code></td>
    </tr>
</table>
<h2>Driver Specific Properties</h2>
<table border="1">
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Required</th>
    </tr>
    <!-- Not yet implemented.
    <tr>
        <td>trim</td>
        <td>Value of <code>true</code> specifies that the leading and trailing
     whitespaces in text file lines should be omitted..
        <td>No, the default value is <code>true</code>.</td>
    </tr>
    -->
    <tr>
        <td>return_arrays</td>
        <td>Value of <code>true</code> specifies that variables should
        return a string array, otherwise a single string is returned.
        <td>No, the default value is <code>false</code>.</td>
    </tr>
</table>
<h2>Query Syntax</h2>
XPath driver supports <a href="http://www.w3.org/TR/xpath">XPath syntax</a> to query text files.
<p>
The query is executed on an XML Document and produces a rowset for matched nodes. The attribute
and element values can be referenced from nested scripts/queries. The following example
    illustrates the querying mechanism:
<p><u>Example:</u>
<p>XPath: <code>/A</code> selects root element &lt;A&gt;
</p><pre>
<b>&lt;A B="1"&gt;</b>
    &lt;B&gt;2&lt;/B&gt;
    &lt;C&gt;3&lt;/C&gt;
<b>&lt;/A&gt;</b></pre>
Available variables for matched element &lt;A&gt;:
<table>
    <tr>
        <th>Name</th><th>Value</th>
    </tr>
    <tr>
        <td>A</td><td>2 3</td>
    </tr>
    <tr>
        <td>B</td><td>1</td>
    </tr>
    <tr>
        <td>C</td><td>3</td>
    </tr>
</table>
The value of variable A represents text content inside XML element &lt;A&gt;,
the value of variable B represents value of B attribute and
    the value of variable C represents text content inside element &lt;C&gt;.

<p>The context node for the XPath query is the selected node of the nearest outer XPath query, or the document root node if there isn't one. This allows relative queries using <code>./</code>

<p>A special <code>node</code> variable is available to the nested queries/scripts which provides extra methods for querying relative to the current node. The node variable is an instance of <code>NodeVariable</code>. Using <code>${node.getString("./C")}</code> is equivalent to <code>$C</code>.

<p>Additional notes:
<ul>
    <li>Currently only Node Set can be selected in XPath expressions, i.e. attributes or elements but not String, Boolean or Number</li>
</ul>
</p>
<h2>Script Syntax</h2>
&lt;script&gt; elements are not supported by the driver.
<h2>Properties substitution</h2>
In query elements ${property} or $property syntax is used for properties/variables substition.
<h2>Examples</h2>
<code><pre>
&lt;connection id="in" driver="xpath" url="data.xml"/&gt;
&lt;connection id="out" driver="text" url="report.csv"/&gt;

&lt;query connection-id="in"&gt;
    /HTML/BODY/TABLE/TR
    &lt;script connection-id="out"&gt;
        $rownum;${td[0]};${td[1]}
    &lt;/script&gt;
&lt;/query&gt;

</pre></code>
Extracts rows from tables in data.xml file and produces report.csv.</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../scriptella/driver/xls/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../scriptella/execution/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?scriptella/driver/xpath/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
                <i>Copyright &#169; Copyright 2006-2019 The <a href="http://scriptella.org">Scriptella Project</a> Team.</i></small></p>
</body>
</html>
